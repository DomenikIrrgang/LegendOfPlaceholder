[gd_scene load_steps=51 format=3 uid="uid://b4kh3x2mugaum"]

[ext_resource type="Script" path="res://Ui/GameUI.gd" id="1_x76ic"]
[ext_resource type="Script" path="res://Ui/UnitFramePlayer.gd" id="6_52hwt"]
[ext_resource type="FontFile" uid="uid://ygvmsmppelgp" path="res://Assets/fonts/PixeloidSans-JR6qo.ttf" id="9_x1hww"]
[ext_resource type="Texture2D" uid="uid://7sbgo11asvra" path="res://Assets/ui/bottom_hud/health_progress_texture_under.png" id="10_dv1e0"]
[ext_resource type="Script" path="res://Ui/SystemMessage.gd" id="10_e3ncc"]
[ext_resource type="Script" path="res://Ui/MainHUD.gd" id="11_advoo"]
[ext_resource type="Texture2D" uid="uid://iseefhpilikl" path="res://Assets/ui/bottom_hud/health_progress_texture.png" id="12_0viwj"]
[ext_resource type="Script" path="res://Ui/ResourceBar.gd" id="12_3djnn"]
[ext_resource type="Texture2D" uid="uid://dnnrkom0xsipj" path="res://Assets/ui/bottom_hud/xp_progress_texture.png" id="12_dsyyh"]
[ext_resource type="Script" path="res://Ui/ExperienceBar.gd" id="12_gq3vu"]
[ext_resource type="Texture2D" uid="uid://c7x7hb1xvylko" path="res://Assets/ui/bottom_hud/mana_progress_texture.png" id="12_w73u0"]
[ext_resource type="Shader" path="res://Shaders/UnitResource.gdshader" id="13_bsqjr"]
[ext_resource type="Texture2D" uid="uid://v8vt7sd8r3h4" path="res://Assets/ui/bottom_hud/resource_progress_texture_under.png" id="13_t2i81"]
[ext_resource type="Script" path="res://Ui/TextureProgressBar.gd" id="14_1bhi6"]
[ext_resource type="Texture2D" uid="uid://cb8r0k1s7cnmy" path="res://Assets/ui/bottom_hud/dash_progress_texture.png" id="14_oetjh"]
[ext_resource type="Texture2D" uid="uid://b3jelvjfa2rtj" path="res://Assets/ui/bottom_hud/overlay.png" id="14_w5ov7"]
[ext_resource type="Texture2D" uid="uid://cub6t8pg6hs5y" path="res://Assets/ui/bottom_hud/xp_progress_texture_under.png" id="15_qa8ts"]
[ext_resource type="Texture2D" uid="uid://bcsg8qngbcxsa" path="res://Assets/ui/bottom_hud/dash_progress_texture_under.png" id="18_ee1fj"]
[ext_resource type="Texture2D" uid="uid://clb1qxxlcylap" path="res://Assets/ui/bossframe/bossframe.png" id="20_60qt7"]
[ext_resource type="Script" path="res://Ui/Bossframe.gd" id="20_whtym"]
[ext_resource type="Texture2D" uid="uid://bfrrwosmxoqna" path="res://Assets/ui/bossframe/health_bar_under.png" id="21_stqy2"]
[ext_resource type="Texture2D" uid="uid://b8hhyyoji6x4n" path="res://Assets/ui/bossframe/health_bar.png" id="22_2h0f6"]
[ext_resource type="PackedScene" uid="uid://cv102qedh50l3" path="res://Ui/AbilitySlot.tscn" id="22_efia7"]
[ext_resource type="Script" path="res://Ui/ErrorMessages.gd" id="24_xy4t1"]
[ext_resource type="Texture2D" uid="uid://dl0u83xiv6kk1" path="res://Assets/ui/bossframe/castbar_background.png" id="25_4e5ai"]
[ext_resource type="Texture2D" uid="uid://v5uxsaoa2tjb" path="res://Assets/ui/bottom_hud/castbar_background.png" id="25_cy3fw"]
[ext_resource type="Script" path="res://Ui/PlayerCastBar.gd" id="25_d4mse"]
[ext_resource type="Texture2D" uid="uid://bpdlcf2ngcdne" path="res://Assets/ui/bossframe/castbar_progress.png" id="26_m0iih"]
[ext_resource type="Texture2D" uid="uid://dh3uqmhjs1hp5" path="res://Assets/ui/bottom_hud/castbar_progress.png" id="26_s0ep8"]

[sub_resource type="LabelSettings" id="LabelSettings_5a6ab"]
font = ExtResource("9_x1hww")
font_size = 44
outline_size = 5
outline_color = Color(0, 0, 0, 1)

[sub_resource type="Shader" id="Shader_ds05e"]
code = "shader_type canvas_item;

void fragment() {
	// Place fragment code here.
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_80tss"]
shader = SubResource("Shader_ds05e")

[sub_resource type="Shader" id="Shader_s1b21"]
code = "shader_type canvas_item;

uniform float timeScaleFactor = .04;

// Make sure to use a seamless noise texture
uniform sampler2D noise_texture: repeat_enable, filter_linear;

float localTime() {
	return TIME * timeScaleFactor;
}

mat2 makem2(float theta) {
	float c = cos(theta);
	float s = sin(theta);
	return mat2(vec2(c, -s), vec2(s, c));
}

float noise(vec2 x) {
	return texture(noise_texture, x * .01).x;
}

vec2 gradn(vec2 p) {
	float ep = .09;
	float gradx = noise(vec2(p.x + ep, p.y)) - noise(vec2(p.x - ep, p.y));
	float grady = noise(vec2(p.x, p.y + ep)) - noise(vec2(p.x, p.y - ep));
	return vec2(gradx, grady);
}

float flow(vec2 p) {
	float z = 2.;
	float rz = 0.;
	vec2 bp = p;
	
	for(float i = 1.; i < 7.; ++i) {
		p += localTime() * .6;
		bp += localTime() * 1.9;
		vec2 gr = gradn(i * p * .34 + localTime() * 1.);
		gr *= makem2(localTime() * 6. - (.05 * p.x + 0.03 * p.y) * 40.);
		p += gr * .5;
		rz += (sin(noise(p) * 7.) *.5 + .5) / z;
		p = mix(bp, p, .77);
		z *= 1.4;
		p *= 2.;
		bp *= 1.9;
	}
	return rz;
}

void fragment() {
	vec2 resolution = 1. / SCREEN_PIXEL_SIZE;
	vec2 fragCoord = FRAGCOORD.xy;
	fragCoord = vec2(fragCoord.x, resolution.y - fragCoord.y);
	vec2 p = fragCoord / resolution - 0.5;
	
	p.x *= resolution.x / resolution.y;
	p *= 3.;
	
	float rz = flow(p);
	vec3 col = vec3(.2, .07, .01) / rz;
	col = pow(col, vec3(1.4));
	
	COLOR = vec4(col, 1.0);
}"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_x3f38"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_r18re"]
noise = SubResource("FastNoiseLite_x3f38")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pwqmm"]
shader = SubResource("Shader_s1b21")
shader_parameter/timeScaleFactor = 0.04
shader_parameter/noise_texture = SubResource("NoiseTexture2D_r18re")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_r0sr8"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hsp2l"]
noise = SubResource("FastNoiseLite_r0sr8")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rjt1a"]
shader = ExtResource("13_bsqjr")
shader_parameter/timeScaleFactor = 0.08
shader_parameter/brightness = 0.5
shader_parameter/noise_texture = SubResource("NoiseTexture2D_hsp2l")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_6nvuf"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_8a0km"]
noise = SubResource("FastNoiseLite_6nvuf")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8xx3b"]
shader = ExtResource("13_bsqjr")
shader_parameter/timeScaleFactor = 0.08
shader_parameter/brightness = 0.3
shader_parameter/noise_texture = SubResource("NoiseTexture2D_8a0km")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ax148"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_831xi"]
noise = SubResource("FastNoiseLite_ax148")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_m5tuq"]
shader = ExtResource("13_bsqjr")
shader_parameter/timeScaleFactor = 0.08
shader_parameter/brightness = 0.3
shader_parameter/noise_texture = SubResource("NoiseTexture2D_831xi")

[sub_resource type="LabelSettings" id="LabelSettings_oluuq"]
font = ExtResource("9_x1hww")
font_size = 15
outline_size = 1
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_m82rs"]
font = ExtResource("9_x1hww")
font_size = 15
outline_size = 1
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_0oxxp"]
font = ExtResource("9_x1hww")
outline_size = 1
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_gewi7"]
font = ExtResource("9_x1hww")
outline_size = 1
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_vmsgq"]
font = ExtResource("9_x1hww")
outline_size = 1
outline_color = Color(0, 0, 0, 1)

[node name="GameUI" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_x76ic")

[node name="SystemMessage" type="CenterContainer" parent="."]
layout_mode = 0
offset_right = 1920.0
offset_bottom = 582.0
script = ExtResource("10_e3ncc")

[node name="Message" type="Label" parent="SystemMessage"]
layout_mode = 2
text = "SystemMessage"
label_settings = SubResource("LabelSettings_5a6ab")

[node name="MainHUD" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("11_advoo")

[node name="CenterContainer" type="CenterContainer" parent="MainHUD"]
layout_mode = 0
offset_top = 977.0
offset_right = 1920.0
offset_bottom = 1080.0

[node name="Overlay" type="TextureRect" parent="MainHUD/CenterContainer"]
material = SubResource("ShaderMaterial_80tss")
layout_mode = 2
texture = ExtResource("14_w5ov7")

[node name="ColorRect" type="ColorRect" parent="MainHUD/CenterContainer/Overlay"]
visible = false
show_behind_parent = true
material = SubResource("ShaderMaterial_pwqmm")
layout_mode = 0
offset_left = 103.0
offset_top = 52.0
offset_right = 735.0
offset_bottom = 101.0

[node name="HealthBar" type="TextureProgressBar" parent="MainHUD/CenterContainer/Overlay"]
show_behind_parent = true
material = SubResource("ShaderMaterial_rjt1a")
layout_mode = 0
offset_left = 9.0
offset_top = 8.0
offset_right = 95.0
offset_bottom = 93.0
value = 100.0
fill_mode = 3
texture_under = ExtResource("10_dv1e0")
texture_progress = ExtResource("12_0viwj")
script = ExtResource("6_52hwt")

[node name="ResourceBar" type="TextureProgressBar" parent="MainHUD/CenterContainer/Overlay"]
show_behind_parent = true
material = SubResource("ShaderMaterial_8xx3b")
layout_mode = 0
offset_left = 743.0
offset_top = 8.0
offset_right = 786.0
offset_bottom = 93.0
value = 100.0
fill_mode = 3
texture_under = ExtResource("13_t2i81")
texture_progress = ExtResource("12_w73u0")
script = ExtResource("12_3djnn")

[node name="ExperienceBar" type="TextureProgressBar" parent="MainHUD/CenterContainer/Overlay"]
show_behind_parent = true
layout_mode = 0
offset_left = 100.0
offset_top = 35.0
offset_right = 738.0
offset_bottom = 41.0
value = 100.0
texture_under = ExtResource("15_qa8ts")
texture_progress = ExtResource("12_dsyyh")
script = ExtResource("12_gq3vu")

[node name="DashBar" type="TextureProgressBar" parent="MainHUD/CenterContainer/Overlay"]
show_behind_parent = true
material = SubResource("ShaderMaterial_m5tuq")
layout_mode = 0
offset_left = 786.0
offset_top = 8.0
offset_right = 829.0
offset_bottom = 93.0
value = 100.0
fill_mode = 3
texture_under = ExtResource("18_ee1fj")
texture_progress = ExtResource("14_oetjh")
script = ExtResource("14_1bhi6")

[node name="AbilitySlots" type="Control" parent="MainHUD/CenterContainer/Overlay"]
anchors_preset = 0
offset_left = 111.0
offset_top = 73.0
offset_right = 398.0
offset_bottom = 99.0

[node name="Ability1" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 1.0
offset_top = -23.0
offset_right = 37.0
offset_bottom = 13.0
action_name = "Ability_One"

[node name="Ability2" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 50.0
offset_top = -23.0
offset_right = 86.0
offset_bottom = 13.0
action_name = "Ability_Two"

[node name="Ability3" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 99.0
offset_top = -23.0
offset_right = 135.0
offset_bottom = 13.0
action_name = "Ability_Three"

[node name="Ability4" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 148.0
offset_top = -23.0
offset_right = 184.0
offset_bottom = 13.0

[node name="Attack" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 197.0
offset_top = -23.0
offset_right = 233.0
offset_bottom = 13.0
action_name = "Attack"

[node name="Dash" parent="MainHUD/CenterContainer/Overlay/AbilitySlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 246.0
offset_top = -23.0
offset_right = 282.0
offset_bottom = 13.0
action_name = "Dash"

[node name="SystemSlots" type="Control" parent="MainHUD/CenterContainer/Overlay"]
anchors_preset = 0
offset_left = 678.0
offset_top = 44.0
offset_right = 735.0
offset_bottom = 95.0

[node name="Inventory" parent="MainHUD/CenterContainer/Overlay/SystemSlots" instance=ExtResource("22_efia7")]
layout_mode = 0
offset_left = 12.0
offset_top = 6.0
offset_right = 48.0
offset_bottom = 42.0

[node name="Bossframe" type="Control" parent="."]
anchors_preset = 0
offset_top = 3.0
offset_right = 40.0
offset_bottom = 43.0
script = ExtResource("20_whtym")

[node name="Frame" type="CenterContainer" parent="Bossframe"]
layout_mode = 0
offset_right = 1920.0
offset_bottom = 103.0

[node name="FrameTexture" type="TextureRect" parent="Bossframe/Frame"]
layout_mode = 2
texture = ExtResource("20_60qt7")

[node name="CenterLevel" type="CenterContainer" parent="Bossframe/Frame/FrameTexture"]
layout_mode = 0
offset_left = 292.0
offset_top = 33.0
offset_right = 326.0
offset_bottom = 73.0

[node name="BossLevel" type="Label" parent="Bossframe/Frame/FrameTexture/CenterLevel"]
layout_mode = 2
text = "60"
label_settings = SubResource("LabelSettings_oluuq")

[node name="CenterName" type="CenterContainer" parent="Bossframe/Frame/FrameTexture"]
layout_mode = 0
offset_left = 326.0
offset_top = 35.0
offset_right = 512.0
offset_bottom = 71.0

[node name="BossName" type="Label" parent="Bossframe/Frame/FrameTexture/CenterName"]
layout_mode = 2
text = "Megaslime"
label_settings = SubResource("LabelSettings_m82rs")

[node name="HealthBar" type="TextureProgressBar" parent="Bossframe/Frame/FrameTexture"]
layout_mode = 2
offset_left = 17.0
offset_top = 9.0
offset_right = 821.0
offset_bottom = 28.0
value = 100.0
texture_under = ExtResource("21_stqy2")
texture_progress = ExtResource("22_2h0f6")

[node name="CenterHealthText" type="CenterContainer" parent="Bossframe/Frame/FrameTexture/HealthBar"]
layout_mode = 0
offset_right = 804.0
offset_bottom = 19.0

[node name="BossHealth" type="Label" parent="Bossframe/Frame/FrameTexture/HealthBar/CenterHealthText"]
layout_mode = 2
text = "100/100"
label_settings = SubResource("LabelSettings_0oxxp")

[node name="Castbar" type="Control" parent="Bossframe"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("25_d4mse")

[node name="CenterContainer" type="CenterContainer" parent="Bossframe/Castbar"]
layout_mode = 0
offset_top = 65.0
offset_right = 1920.0
offset_bottom = 105.0

[node name="Background" type="TextureRect" parent="Bossframe/Castbar/CenterContainer"]
layout_mode = 2
texture = ExtResource("25_4e5ai")

[node name="ProgressBar" type="TextureProgressBar" parent="Bossframe/Castbar/CenterContainer/Background"]
layout_mode = 2
offset_left = 3.0
offset_top = 3.0
offset_right = 285.0
offset_bottom = 20.0
max_value = 1.0
step = 0.01
value = 1.0
texture_progress = ExtResource("26_m0iih")

[node name="CenterContainer" type="CenterContainer" parent="Bossframe/Castbar/CenterContainer/Background"]
layout_mode = 0
offset_left = 3.0
offset_top = 2.0
offset_right = 285.0
offset_bottom = 25.0

[node name="SpellName" type="Label" parent="Bossframe/Castbar/CenterContainer/Background/CenterContainer"]
layout_mode = 2
text = "100 / 100"
label_settings = SubResource("LabelSettings_gewi7")

[node name="ErrorMessages" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("24_xy4t1")

[node name="CenterContainer" type="CenterContainer" parent="ErrorMessages"]
layout_mode = 0
offset_top = 120.0
offset_right = 1920.0
offset_bottom = 432.0

[node name="Container" type="VBoxContainer" parent="ErrorMessages/CenterContainer"]
layout_mode = 2

[node name="PlayerCastBar" type="Control" parent="."]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("25_d4mse")

[node name="CenterContainer" type="CenterContainer" parent="PlayerCastBar"]
layout_mode = 0
offset_top = 950.0
offset_right = 1920.0
offset_bottom = 990.0

[node name="Background" type="TextureRect" parent="PlayerCastBar/CenterContainer"]
layout_mode = 2
texture = ExtResource("25_cy3fw")

[node name="ProgressBar" type="TextureProgressBar" parent="PlayerCastBar/CenterContainer/Background"]
layout_mode = 2
offset_left = 3.0
offset_top = 3.0
offset_right = 189.0
offset_bottom = 20.0
step = 0.01
value = 100.0
texture_progress = ExtResource("26_s0ep8")

[node name="CenterContainer" type="CenterContainer" parent="PlayerCastBar/CenterContainer/Background"]
layout_mode = 0
offset_left = 2.0
offset_top = -6.0
offset_right = 189.0
offset_bottom = 31.0

[node name="SpellName" type="Label" parent="PlayerCastBar/CenterContainer/Background/CenterContainer"]
layout_mode = 2
text = "Spellname
"
label_settings = SubResource("LabelSettings_vmsgq")
